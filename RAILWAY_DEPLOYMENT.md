# Railway Deployment Guide for AetherRun

## Prerequisites
1. GitHub account (to connect your code)
2. Railway account (sign up at railway.app)
3. Your environment variables ready

## Step 1: Prepare Your Repository

1. **Push your code to GitHub**:
   ```bash
   git add .
   git commit -m "Prepare for Railway deployment"
   git push origin main
   ```

## Step 2: Deploy to Railway

1. **Go to Railway.app** and sign in
2. **Click "New Project"**
3. **Select "Deploy from GitHub repo"**
4. **Choose your AetherRun repository**
5. **Railway will automatically detect it's a Node.js app**

## Step 3: Set Up Database

1. **In your Railway project, click "Add Service"**
2. **Choose "PostgreSQL"**
3. **Railway will create a managed PostgreSQL database**
4. **Copy the `DATABASE_URL` from the database service**

## Step 4: Configure Environment Variables

In your Railway project settings, add these environment variables:

### Required Variables:
```
DATABASE_URL=postgresql://... (auto-generated by Railway)
NODE_ENV=production
SESSION_SECRET=your-long-random-string-here
OPENAI_API_KEY=sk-...
```

### Optional Variables (for full functionality):
```
GMAIL_CLIENT_ID=your-client-id
GMAIL_CLIENT_SECRET=your-client-secret
GMAIL_REFRESH_TOKEN=your-refresh-token
GMAIL_USER_EMAIL=support@aetherrun.com
STRIPE_SECRET_KEY=sk_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

## Step 5: Deploy and Test

1. **Railway will automatically deploy** your app
2. **Check the deployment logs** for any errors
3. **Visit your app URL** (Railway provides a custom domain)
4. **Test the key features** to ensure everything works

## Step 6: Database Migration

After deployment, run database migrations:
```bash
npm run db:push
```

## Estimated Monthly Cost: $5-10

- **Web Service**: $5/month
- **PostgreSQL**: $5/month (only if you exceed free tier)
- **Total**: Much cheaper than Replit's â‚¬50!

## Troubleshooting

### Common Issues:
1. **Build fails**: Check that all dependencies are in package.json
2. **Database connection fails**: Verify DATABASE_URL is set correctly
3. **Environment variables missing**: Double-check all required variables are set

### Health Check:
Railway will automatically check if your app is running on the assigned port.

## Custom Domain (Optional)

1. **Go to your Railway project settings**
2. **Click "Domains"**
3. **Add your custom domain**
4. **Update DNS records as instructed**

Your AetherRun app will be live and accessible worldwide for a fraction of the cost!